import{_ as b,r as _,o as i,c as s,d as n,$ as m,t as r,m as d,F as w,E as h,n as y,b as k,w as D,e as v}from"./app.27f49693.js";const S={props:{fw:Object,options:Object,showSingleDownloads:Boolean,hasFirmwares:Object,showDots:Boolean},data(){return{expanded:!1,showDownloadDropdown:!1,signed:"unknown",fwData:[],tags:[]}},mounted(){const a=this.fw.devices.filter(t=>this.shouldSigningStatusBeChecked(t,this.fw.filteredDownloads,this.fw.beta||this.fw.rc));this.fw.jailbreakArr=Object.keys(this.fw.jailbreakCompatibility).filter(t=>[...new Set(a).intersection(new Set(this.fw.jailbreakCompatibility[t]))].length),a.length&&this.getSigningStatus(this.fw.build,a[0],this.fw.osStr,this.fw.beta||this.fw.rc,this.fw.uniqueBuild),this.tags=[].filter(t=>t.val)},methods:{async getSigningStatus(a,t,e,c){var o=new XMLHttpRequest;o.open("GET",`https://api.ipsw.me/v4/ipsw/${t}/${a}`),o.setRequestHeader("Accept","application/json"),o.onreadystatechange=function(){if(this.readyState===4&&this.status==200){let f=JSON.parse(this.responseText);var u=document.getElementById(`signing-status-${e}-${a}`),g=document.getElementById(`signing-text-${e}-${a}`);if(c)if(f=f.filter(l=>l.buildid==a),f.length)f=f[0];else return;f.signed?(u.classList.add("fa-check"),g.innerHTML="Signed"):(u.classList.add("fa-times"),g.innerHTML="Not signed")}},o.send()},shouldSigningStatusBeChecked(a,t,e){return e||!t||["iPhone1,1","iPhone1,2","iPod1,1"].includes(a)?!1:t.filter(c=>c.key.startsWith(a)&&c.url.endsWith(".ipsw")).length>0},openDownloadDropdown(){var a=document.getElementsByClassName("downloadDropdown active");for(let t of a)t.classList.remove("active");this.expanded=!this.expanded,this.showDownloadDropdown=!this.showDownloadDropdown},getFwData(){return fetch(`/pageData/firmware/${[this.fw.osStr,this.fw.uniqueBuild].join(";")}.json`.replace(/\.html/g,""),{method:"GET",headers:{"Content-Type":"application/json"}}).then(a=>a.text()).then(a=>JSON.parse(a))}}},x={key:0,style:{"font-weight":"600"}},C={style:{"padding-inline":"0",background:"none","font-size":"0.95em"}},O={key:2,class:"fas fa-box-open",style:{"padding-left":"8px"}},B={key:4},j={key:5,class:"releaseBetaInternalWrapper"},N=["id"],T=["id"],I={key:0,style:{"text-align":"right"},class:"releasedStr"},V={class:"iconFlex"},E={key:0},R=["href"],A=["href"],F={key:0},L=["href"],z=["href"],q={class:"iconChild"},H={style:{cursor:"pointer"}},P={key:0,class:"expandedView"},W={key:0,class:"custom-container releasedInfo"},J={style:{display:"flex","flex-flow":"row wrap","align-content":"space-between"}},M={style:{"padding-left":"0","list-style-type":"none"}},G={class:"releasedInfo"},U={key:1,class:"custom-container"},X={key:2,class:"custom-container"},K={class:"custom-container"},Q=["href"],Y={key:3,class:"custom-container"},Z=["href"],p={key:1,style:{"border-bottom":"1px solid var(--c-border)",width:"calc(100% - 24px)",margin:"auto","margin-block":"-1px"}};function $(a,t,e,c,o,u){const g=_("grid"),f=_("router-link");return i(),s(w,null,[n("div",{class:"wrapper firmwareVersionTableElement",onClick:t[2]||(t[2]=l=>o.expanded=!o.expanded)},[n("div",{class:"firmwareAndReleasedStr",style:m({width:`calc(100% - ${(1+e.showSingleDownloads)*32}px)`})},[n("div",null,[e.options.showVersionString?(i(),s("span",x,r([e.fw.osStr,e.fw.version].join(" ")),1)):d("",!0),e.fw.build&&(o.expanded||this.fw.duplicateVersion||this.options.showBuildNumber)?(i(),s(w,{key:1},[t[3]||(t[3]=n("i",{style:{"margin-inline":"8px","font-size":".3em"},class:"fas fa-circle"},null,-1)),n("code",C,r(this.fw.build),1)],64)):d("",!0),this.fw.preinstalled.some(l=>this.fw.devices.includes(l))&&(this.fw.filteredDownloads.length||this.fw.filteredOtas.length)?(i(),s("i",O)):d("",!0),t[5]||(t[5]=n("div",{style:{"padding-inline":".25em",display:"inline-block"}},null,-1)),e.showDots||o.expanded?(i(),s("div",{key:3,class:h([e.fw.internal?"internal":e.fw.beta||e.fw.rc?"beta":"release","releaseBetaInternalWrapper"])},[n("span",null,r(e.fw.internal?"internal":e.fw.rc?"rc":e.fw.beta?"beta":"release"),1)],2)):(e.fw.internal||e.fw.beta||e.fw.rc)&&Object.keys(e.hasFirmwares).filter(l=>e.hasFirmwares[l]).length==1?(i(),s("span",B,[n("i",{style:{"margin-left":"0px","font-size":".4em"},class:h([e.fw.internal?"internal":e.fw.beta||e.fw.rc?"beta":"release","fas","fa-circle"])},null,2)])):d("",!0),e.fw.rsr?(i(),s("div",j,t[4]||(t[4]=[n("span",null,"RSR",-1)]))):d("",!0),n("div",{class:"signingStatus",style:m({display:e.options.showSigningStatus?"initial":"none"})},[n("i",{id:`signing-status-${e.fw.osStr}-${e.fw.build}`,class:"fas"},null,8,N),n("span",{id:`signing-text-${e.fw.osStr}-${e.fw.build}`,class:"signingText"},null,8,T)],4)]),e.fw.releasedStr&&e.options.showReleasedString?(i(),s("div",I,r(e.fw.releasedStr),1)):d("",!0)],4),n("div",V,[e.showSingleDownloads?(i(),s(w,{key:0},[e.fw.filteredDownloads.length||e.fw.filteredOtas.length?(i(),s("div",{key:0,onClick:t[0]||(t[0]=l=>u.openDownloadDropdown()),class:"downloadIcon iconChild"},[t[8]||(t[8]=n("a",{style:{cursor:"pointer"}},[n("i",{class:"downloadIcon fas fa-download"})],-1)),n("div",{class:h(["downloadDropdown","custom-container",o.showDownloadDropdown?"active":""]),style:{cursor:"initial"}},[e.fw.filteredDownloads.length?(i(),s(w,{key:0},[t[6]||(t[6]=n("h5",null,"Download",-1)),n("ul",{style:m(`${e.fw.filteredDownloads.length==1?"padding-left: 0; list-style-type: none;":""}`)},[e.fw.filteredDownloads.length==1?(i(),s("li",E,[n("a",{href:e.fw.filteredDownloads[0].url},r(e.fw.filteredDownloads[0].deviceName.slice(0,60))+r(e.fw.filteredDownloads[0].deviceName.length>60?"...":""),9,R)])):(i(!0),s(w,{key:1},y(e.fw.filteredDownloads,l=>(i(),s("li",{key:l},[n("a",{href:l.url},r(l.deviceName),9,A)]))),128))],4)],64)):d("",!0),e.fw.filteredOtas.length?(i(),s(w,{key:1},[t[7]||(t[7]=n("h5",null,"Download (OTA)",-1)),n("ul",{style:m(`${e.fw.filteredOtas.length==1?"padding-left: 0; list-style-type: none;":""}`)},[e.fw.filteredOtas.length==1?(i(),s("li",F,[n("a",{href:e.fw.filteredOtas[0].url},r(e.fw.filteredOtas[0].deviceName.slice(0,60))+r(e.fw.filteredOtas[0].deviceName.length>60?"...":""),9,L)])):(i(!0),s(w,{key:1},y(e.fw.filteredOtas,l=>(i(),s("li",{key:l},[n("a",{href:l.url},r(l.deviceName),9,z)]))),128))],4)],64)):d("",!0)],2)])):e.fw.preinstalled.some(l=>e.fw.devices.includes(l))?(i(),s("div",{key:1,onClick:t[1]||(t[1]=l=>u.openDownloadDropdown()),class:"downloadIcon iconChild"},[t[9]||(t[9]=n("i",{class:"fas fa-box-open"},null,-1)),n("div",{class:h(["downloadDropdown","custom-container",o.showDownloadDropdown?"active":""]),style:{"padding-inline":"1.3em !important","font-weight":"500"}}," Preinstalled firmware ",2)])):d("",!0)],64)):d("",!0),n("div",q,[n("a",H,[n("i",{class:h(["fas",o.expanded?"fa-chevron-down":"fa-chevron-right"])},null,2)])])])]),o.expanded?(i(),s("div",P,[e.fw.releasedStr?(i(),s("div",W,[n("div",J,[n("ul",M,[n("li",G,"Released"+r(e.fw.releasedStr.includes(",")?" on":":")+" "+r(e.fw.releasedStr),1)])])])):d("",!0),o.fwData&&o.fwData.content?(i(),s("div",U,[t[10]||(t[10]=n("h5",null,"Devices",-1)),k(g,{content:o.fwData.content,sectionClass:o.fwData.class+" blue"||""},null,8,["content","sectionClass"]),t[11]||(t[11]=n("br",null,null,-1))])):d("",!0),e.fw.jailbreakArr.length?(i(),s("div",X,[t[12]||(t[12]=n("h5",null,"Jailbreaks",-1)),n("ul",null,[(i(!0),s(w,null,y(e.fw.jailbreakArr,l=>(i(),s("li",{key:l},[k(f,{to:encodeURI(`/jailbreak/${l.replace(/ /g,"-")}.html`)},{default:D(()=>[v(r(l),1)]),_:2},1032,["to"])]))),128))])])):d("",!0),n("div",K,[n("p",null,[n("a",{href:e.fw.url},t[13]||(t[13]=[v("View more ",-1),n("i",{style:{"font-size":"0.8em","padding-left":"2px"},class:"fas fa-arrow-right"},null,-1)]),8,Q)])]),e.options.showTweetButton?(i(),s("div",Y,[n("p",null,[n("a",{href:"https://twitter.com/intent/tweet?text="+encodeURI(`${[e.fw.osStr,e.fw.version].join(" ")}${e.fw.build?" ("+e.fw.build+")":""} has been released. https://appledb.dev${e.fw.url}`),target:"_blank"},t[14]||(t[14]=[n("i",{style:{"margin-right":"8px"},class:"fab fa-twitter"},null,-1),v("Tweet ",-1)]),8,Z)])])):d("",!0)])):d("",!0),o.expanded?d("",!0):(i(),s("div",p))],64)}var te=b(S,[["render",$],["__scopeId","data-v-ea07dec8"],["__file","firmwareVersionTableElement.vue"]]);export{te as default};
